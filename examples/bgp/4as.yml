name: '4 AS'

# Simple topology with 4 AS : AS1 <- AS2, AS2 <-> AS3, AS2 <- AS4
# AS1
# |
# | 
# AS2 -- AS3
# |
# |
# AS4
global_settings:
  bgp:
    provider:
      community: 50
      local_pref: 86
    peer:
      local_pref: 210

autonomous_systems:
  - asn: 1
    routers: 2
    loopback_start: '172.16.10.1/32'
    igp: OSPF
    redistribute_igp: true
    prefix: '10.1.1.0/24'
    mpls: true
    links:
      kind: 'full-mesh'
      subnet_length: 30
  - asn: 2
    routers: 2
    loopback_start: '172.16.20.1/32'
    igp: OSPF
    redistribute_igp: true
    prefix: '10.1.2.0/24'
    links:
      kind: 'full-mesh'
      subnet_length: 30
  - asn: 3
    routers: 2
    loopback_start: '172.16.30.1/32'
    igp: OSPF
    redistribute_igp: true
    prefix: '10.1.3.0/24'
    links:
      kind: 'full-mesh'
      subnet_length: 30
  - asn: 4
    routers: 2
    loopback_start: '172.16.40.1/32'
    igp: OSPF
    redistribute_igp: true
    prefix: '10.1.4.0/24'
    links:
      kind: 'full-mesh'
      subnet_length: 30

external_links:
  - from:
      asn: 1
      router_id: 1
    to:
      asn: 2
      router_id: 1
    rel: 'p2c'
  - from:
      asn: 2
      router_id: 1
    to:
      asn: 3
      router_id: 1
    rel: 'p2p'
  - from:
      asn: 2
      router_id: 1
    to:
      asn: 4
      router_id: 1
    rel: 'p2c'